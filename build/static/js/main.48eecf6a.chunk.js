(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{54:function(n,e,t){n.exports=t(67)},59:function(n,e,t){},67:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),c=t(43),u=t.n(c),o=(t(59),t(31)),l=t(9),i=t(17),s=t(27),f=new o.a({uri:"https://macsucatas.gexus.com.br/graphql"}),d=new l.a((function(n,e){var t=localStorage.getItem("token");return n.setContext({headers:{"x-auth-acc":t?"".concat(t):""}}),e(n)})),b=new i.a({link:d.concat(f),cache:new s.a}),m=t(11),p=t(21),h=t(22),v=t(38),g=t(5),x=t(19),j=t(18),O=Object(r.createContext)(null);function E(){var n=Object(g.a)(["\n  {\n    auth {\n      id\n      name\n      role\n    }\n  }\n"]);return E=function(){return n},n}var k=Object(x.a)(E());var w=t(15),y=t(6);function S(){var n=Object(g.a)(["\n  flex: 5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return S=function(){return n},n}function C(){var n=Object(g.a)(["\n  flex: 2;\n  display: flex;\n  height: 50%;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n"]);return C=function(){return n},n}function A(){var n=Object(g.a)(["\n  background: rgb(200, 200, 200);\n  width: 50%;\n  min-width: 300px;\n  height: 80%;\n  border-radius: 15px;\n  box-shadow: 2px 2px 15px black;\n  display: flex;\n  flex-direction: column;\n"]);return A=function(){return n},n}function P(){var n=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(45, 60, 15, 0.8);\n  height: 100vh;\n"]);return P=function(){return n},n}var $=y.a.div(P()),I=y.a.div(A()),z=y.a.div(C()),D=y.a.div(S()),F=function(n){var e=n.title,t=n.form,r=Object(w.a)(n,["title","form"]);return a.a.createElement($,r,a.a.createElement(I,null,a.a.createElement(z,null,e),a.a.createElement(D,null,t)))};function N(){var n=Object(g.a)(["\n  height: auto;\n  letter-spacing: 4px;\n  text-transform: uppercase;\n  font-size: 45px;\n"]);return N=function(){return n},n}var L=y.a.h1(N()),q=function(){return a.a.createElement(L,null,"Mac Sucatas")},B=t(20),M=t.n(B),R=t(24),U=t(12);function J(){var n=Object(g.a)(["\n  height: auto;\n  color: #fff;\n  text-transform: uppercase;\n  font-size: 25px;\n"]);return J=function(){return n},n}function G(){var n=Object(g.a)(["\n  display: flex;\n  height: 40px;\n  width: 50%;\n  border-radius: 50px;\n  border: 0;\n  background: rgb(30, 100, 30);\n  cursor: pointer;\n  align-items: center;\n  transition: all 0.3s;\n  justify-content: center;\n\n  :focus {\n    outline-width: 0;\n    border: 1px solid green;\n  }\n\n  :hover {\n    box-shadow: 1px 1px 5px;\n  }\n"]);return G=function(){return n},n}var T=y.a.div(G()),V=y.a.h1(J()),X=function(n){var e=n.children,t=Object(w.a)(n,["children"]);return a.a.createElement(T,t,a.a.createElement(V,null,e))},H=t(23),K=t(30);function Q(){var n=Object(g.a)(["\n  border-radius: 50px;\n  border: 0;\n  padding: 0 50px;\n  border: 2px solid #2c6126;\n  text-align: center;\n  font-size: 15px;\n\n  :focus {\n    outline-width: 0;\n  }\n\n  ::placeholder {\n    letter-spacing: 2px;\n  }\n"]);return Q=function(){return n},n}function W(){var n=Object(g.a)(["\n  height: 40px;\n  display: flex;\n  position: absolute;\n  width: auto;\n  left: 20px;\n  align-items: center;\n"]);return W=function(){return n},n}function Y(){var n=Object(g.a)(["\n  width: 70%;\n  height: 40px;\n  display: flex;\n  position: relative;\n  justify-content: center;\n"]);return Y=function(){return n},n}var Z=y.a.div(Y()),_=y.a.div(W()),nn=y.a.input(Q()),en=function(n){var e=n.password,t=Object(w.a)(n,["password"]);return a.a.createElement(Z,null,a.a.createElement(_,null,e?a.a.createElement(K.b,null):a.a.createElement(H.d,null)),a.a.createElement(nn,t))};function tn(){var n=Object(g.a)(["\n  color: red;\n  height: auto;\n  text-align: center;\n  position: absolute;\n  top: 5px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 65%;\n  height: 95%;\n  min-width: 300px;\n  justify-content: space-evenly;\n  align-items: center;\n  box-shadow: 0 0 2px;\n  border-radius: 15px;\n  background: #f9f9f9;\n  position: relative;\n"]);return rn=function(){return n},n}function an(){var n=Object(g.a)(["\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user {\n        id\n        name\n      }\n    }\n  }\n"]);return an=function(){return n},n}var cn=Object(x.a)(an());var un=y.a.form(rn()),on=y.a.p(tn()),ln=function(){var n=Object(r.useState)(""),e=Object(U.a)(n,2),t=e[0],c=e[1],u=Object(r.useState)(""),o=Object(U.a)(u,2),l=o[0],i=o[1],s=Object(r.useState)(""),f=Object(U.a)(s,2),d=f[0],b=f[1],m=Object(j.a)(cn),p=Object(U.a)(m,1)[0],v=Object(h.g)(),g=Object(r.useContext)(O).setAuth,x=function(){var n=Object(R.a)(M.a.mark((function n(){var e,r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p({variables:{username:t,password:l}});case 3:e=n.sent,(r=e.data).login.token?(g({token:r.login.token,isAuthenticated:!0,loading:!1,user:r.login.user}),localStorage.setItem("token",r.login.token),v.push("/dashboard")):b("Usuario ou senha incorretos"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),b("Erro no servidor");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(un,null,d?a.a.createElement(on,null,d):null,a.a.createElement(en,{placeholder:"Username",value:t,onChange:function(n){c(n.target.value)}}),a.a.createElement(en,{password:!0,placeholder:"Password",type:"password",onChange:function(n){i(n.target.value)}}),a.a.createElement(X,{onClick:x},"Login")))};function sn(){var n=Object(r.useContext)(O).auth;return n.loading?null:n.isAuthenticated?a.a.createElement(h.a,{to:"/dashboard"}):a.a.createElement(F,{title:a.a.createElement(q,null),form:a.a.createElement(ln,null)})}var fn=function(){return a.a.createElement(h.b,{path:"/",exact:!0,component:sn})},dn=function(n){var e=n.component,t=Object(w.a)(n,["component"]),c=Object(r.useContext)(O).auth;return c.loading?null:a.a.createElement(h.b,Object.assign({},t,{render:function(n){return c.isAuthenticated?a.a.createElement(e,n):a.a.createElement(h.a,{to:{pathname:"/",state:{from:n.location}}})}}))};function bn(){var n=Object(g.a)(["\n  flex: 5;\n  display: flex;\n  background: rgba(200, 200, 200);\n"]);return bn=function(){return n},n}function mn(){var n=Object(g.a)(["\n  display: flex;\n  height: 100px;\n  border-bottom: 1px solid #fff;\n  position: relative;\n  justify-content: center;\n  align-items: center;\n"]);return mn=function(){return n},n}function pn(){var n=Object(g.a)(["\n  flex: 1.4;\n  background: rgba(50, 50, 50);\n\n  // ::-webkit-scrollbar {\n  //   width: 5px;\n  // }\n\n  // ::-webkit-scrollbar-track {\n  //   background: #f1f1f1;\n  // }\n\n  // ::-webkit-scrollbar-thumb {\n  //   background: #888;\n  // }\n\n  // ::-webkit-scrollbar-thumb:hover {\n  //   background: #555;\n  // }\n"]);return pn=function(){return n},n}function hn(){var n=Object(g.a)(["\n  display: flex;\n  min-height: 100vh;\n"]);return hn=function(){return n},n}var vn=y.a.div(hn()),gn=y.a.div(pn()),xn=y.a.div(mn()),jn=y.a.div(bn()),On=function(n){var e=n.user,t=n.navs,r=n.children,c=Object(w.a)(n,["user","navs","children"]);return a.a.createElement(vn,c,a.a.createElement(gn,null,a.a.createElement(xn,null,e),t),a.a.createElement(jn,null,r))};function En(){var n=Object(g.a)(["\n  font-weight: bold;\n  text-align: center;\n  font-size: 18px;\n"]);return En=function(){return n},n}function kn(){var n=Object(g.a)(["\n  font-size: 15px;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  margin: 0;\n"]);return kn=function(){return n},n}function wn(){var n=Object(g.a)(["\n  font-size: 15px;\n  height: auto;\n  color: white;\n"]);return wn=function(){return n},n}var yn=y.a.p(wn()),Sn=Object(y.a)(yn)(kn()),Cn=Object(y.a)(yn)(En()),An=function(){var n=Object(r.useContext)(O).auth;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,null,"ID: ",n.user.id),a.a.createElement(Cn,null,n.user.name))};function Pn(){var n=Object(g.a)(["  \n  margin: 3px 0;\n  color: white;\n  font-weight: bold;\n  height: auto;\n  user-select: none;\n\n \n}\n"]);return Pn=function(){return n},n}function $n(){var n=Object(g.a)(["\n  color: white;\n  margin-right: 25px;\n"]);return $n=function(){return n},n}function In(){var n=Object(g.a)(["\n  cursor: pointer;\n  padding: 5px 0px 5px 25px;\n  display: flex;\n  align-items: center;\n  height: 40px;\n  transition: all 0.7s;\n  margin: 10px 2px;\n\n  :hover {\n    box-shadow: 0 0 5px #fff;\n    font-size: 17px;\n  }\n"]);return In=function(){return n},n}var zn=y.a.div(In()),Dn=y.a.div($n()),Fn=y.a.li(Pn()),Nn=function(n){var e=n.icon,t=n.children,c=n.to,u=n.logout,o=Object(w.a)(n,["icon","children","to","logout"]),l=function(){var n=Object(r.useContext)(O).setAuth;return{dispatch:function(){localStorage.removeItem("token"),n({token:null,isAuthenticated:!1,loading:!1,user:null})}}}().dispatch,i=Object(h.g)();return a.a.createElement(zn,Object.assign({onClick:function(){return u?l():i.push("/dashboard/".concat(c))}},o),a.a.createElement(Dn,null,e),a.a.createElement(Fn,null,t))},Ln=t(53);function qn(){var n=Object(g.a)(["\n  height: auto;\n  list-style: none;\n  padding: 0;\n"]);return qn=function(){return n},n}var Bn=y.a.ul(qn()),Mn=function(){return a.a.createElement(Bn,null,a.a.createElement(Nn,{to:"",icon:a.a.createElement(K.a,null)},"Dashboard"),a.a.createElement(Nn,{to:"product",icon:a.a.createElement(H.a,null)},"Adicionar Produtos"),a.a.createElement(Nn,{to:"buy",icon:a.a.createElement(H.b,null)},"Compra"),a.a.createElement(Nn,{to:"sell",icon:a.a.createElement(Ln.a,null)},"Venda"),a.a.createElement(Nn,{to:"fornecedor",icon:a.a.createElement(H.e,null)},"Fornecedores"),a.a.createElement(Nn,{to:"comprador",icon:a.a.createElement(H.f,null)},"Compradores"),a.a.createElement(Nn,{to:"cust",icon:a.a.createElement(H.c,null)},"Custo Operacional"),a.a.createElement(Nn,{logout:!0,icon:a.a.createElement(K.c,null)},"LogOut"))};function Rn(){var n=Object(g.a)(["\n  height: 100%;\n  width: 100%;\n"]);return Rn=function(){return n},n}var Un=y.a.div(Rn()),Jn=function(){return a.a.createElement(Un,null)};function Gn(){var n=Object(g.a)(["\n  mutation deleteProduct($id: ID!) {\n    deleteProduct(id: $id)\n  }\n"]);return Gn=function(){return n},n}function Tn(){var n=Object(g.a)(["\n  {\n    getProduct {\n      id\n      name\n      stock\n      balanceStock\n    }\n  }\n"]);return Tn=function(){return n},n}function Vn(){var n=Object(g.a)(["\n  mutation AddProduct($name: String!, $stock: Int, $balanceStock: Float) {\n    addProduct(name: $name, stock: $stock, balanceStock: $balanceStock) {\n      id\n      name\n      stock\n    }\n  }\n"]);return Vn=function(){return n},n}var Xn=Object(x.a)(Vn()),Hn=Object(x.a)(Tn()),Kn=Object(x.a)(Gn());var Qn=function(){var n=Object(j.a)(Xn),e=Object(U.a)(n,1)[0],t=Object(j.a)(Kn),r=Object(U.a)(t,1)[0],a=Object(j.b)(Hn);return[{loading:a.loading,data:a.data},a.refetch,e,r]};function Wn(){var n=Object(g.a)(["\n  cursor: pointer;\n\n  ",";\n  transition: all 0.5s;\n  :hover {\n    font-weight: bold;\n    color: #fff;\n    ",";\n  }\n"]);return Wn=function(){return n},n}function Yn(){var n=Object(g.a)(["\n  flex: 1;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Yn=function(){return n},n}function Zn(){var n=Object(g.a)(["\n  flex: 3;\n"]);return Zn=function(){return n},n}function _n(){var n=Object(g.a)(["\n  flex: 2;\n  user-select: initial;\n"]);return _n=function(){return n},n}function ne(){var n=Object(g.a)(["\n  flex: 1;\n"]);return ne=function(){return n},n}function ee(){var n=Object(g.a)(["\n  list-style: none;\n  text-align: center;\n  margin: 8px 0;\n  user-select: none;\n"]);return ee=function(){return n},n}function te(){var n=Object(g.a)(["\n  border-radius: 15px;\n  transition: all 0.3s;\n\n  :hover {\n    border: 0;\n    box-shadow: 0 0 3px rgb(50, 50, 50);\n  }\n"]);return te=function(){return n},n}function re(){var n=Object(g.a)(["\n  font-weight: bold;\n"]);return re=function(){return n},n}function ae(){var n=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0;\n"]);return ae=function(){return n},n}function ce(){var n=Object(g.a)(["\n  width: 90%;\n"]);return ce=function(){return n},n}var ue=y.a.div(ce()),oe=y.a.ul(ae()),le=Object(y.a)(oe)(re()),ie=Object(y.a)(oe)(te()),se=y.a.li(ee()),fe=Object(y.a)(se)(ne()),de=Object(y.a)(se)(_n()),be=Object(y.a)(se)(Zn()),me=Object(y.a)(se)(Yn()),pe=Object(y.a)(me)(Wn(),(function(n){return n.edit?null:"border-radius: 0 15px 15px 0"}),(function(n){return n.edit?"background:rgb(30,155,30)":"background:rgb(255,90,90)"})),he=function(n){var e=n.products,t=n.deleteProduct,r=n.refresh,c=function(){var n=Object(R.a)(M.a.mark((function n(e){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t({variables:{id:e}});case 3:r(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}();return e.loading?a.a.createElement(ue,null,a.a.createElement("h1",null,"LOADING...")):a.a.createElement(ue,null,a.a.createElement(le,null,a.a.createElement(fe,null,"ID"),a.a.createElement(de,null,"Nome"),a.a.createElement(be,null,"Estoque"),a.a.createElement(be,null,"Balan\xe7o"),a.a.createElement(me,null,"Editar"),a.a.createElement(me,null,"Excluir")),e.data.getProduct&&e.data.getProduct.map((function(n){return a.a.createElement(ie,{key:n.id},a.a.createElement(fe,null,n.id),a.a.createElement(de,null,n.name),a.a.createElement(be,null,n.stock,"kg"),a.a.createElement(be,null,"R$",n.balanceStock),a.a.createElement(pe,{onClick:function(){return alert("Esta op\xe7\xe3o ainda n\xe3o funciona")},edit:!0},"O"),a.a.createElement(pe,{onClick:function(){c(n.id)}},"X"))})))};function ve(){var n=Object(g.a)(["\n  border-radius: 50px;\n  border: 0;\n  height: 35px;\n  padding: 0 50px;\n  border: 2px solid #2c6126;\n  text-align: center;\n  font-size: 15px;\n\n  :focus {\n    outline-width: 0;\n  }\n\n  ::placeholder {\n    letter-spacing: 2px;\n  }\n"]);return ve=function(){return n},n}function ge(){var n=Object(g.a)(["\n  width: 100%;\n  height: 60%;\n  max-height: 355px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 70px 0;\n"]);return ge=function(){return n},n}var xe=y.a.div(ge()),je=y.a.input(ve()),Oe=function(n){var e=n.Add,t=n.refresh,c=Object(r.useState)(""),u=Object(U.a)(c,2),o=u[0],l=u[1],i=Object(r.useState)(""),s=Object(U.a)(i,2),f=s[0],d=s[1],b=Object(r.useState)(""),m=Object(U.a)(b,2),p=m[0],h=m[1],v=function(){var n=Object(R.a)(M.a.mark((function n(){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({variables:{name:o,stock:Number(f),balanceStock:Number(p.replace(",","."))}});case 2:t(),l(""),d(""),h("");case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(xe,null,a.a.createElement(je,{onChange:function(n){return l(n.target.value)},value:o,placeholder:"Nome"}),a.a.createElement(je,{onChange:function(n){return d(n.target.value)},value:f,placeholder:"Estoque"}),a.a.createElement(je,{onChange:function(n){return h(n.target.value)},value:p,placeholder:"Balan\xe7o"}),a.a.createElement(X,{onClick:v},"Enviar"))};function Ee(){var n=Object(g.a)(["\n  color: rgb(50, 50, 50);\n"]);return Ee=function(){return n},n}function ke(){var n=Object(g.a)(["\n  flex: 1.3;\n"]);return ke=function(){return n},n}function we(){var n=Object(g.a)(["\n  border-right: 1px dashed rgb(80, 80, 80);\n"]);return we=function(){return n},n}function ye(){var n=Object(g.a)(["\n  flex: 2;\n  padding: 10px 0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return ye=function(){return n},n}var Se=y.a.div(ye()),Ce=Object(y.a)(Se)(we()),Ae=Object(y.a)(Se)(ke()),Pe=y.a.h1(Ee()),$e=function(){var n=Qn(),e=Object(U.a)(n,4),t=e[0],r=e[1],c=e[2],u=e[3];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce,null,a.a.createElement(Pe,null,"PRODUTOS"),a.a.createElement(he,{products:t,deleteProduct:u,refresh:r})),a.a.createElement(Ae,null,a.a.createElement(Pe,null,"ADICIONAR"),a.a.createElement(Oe,{Add:c,refresh:r})))};var Ie=function(){var n=Object(h.h)().id;return a.a.createElement(On,{user:a.a.createElement(An,null),navs:a.a.createElement(Mn,null)},n?null:a.a.createElement(Jn,null),"product"===n?a.a.createElement($e,null):null)};function ze(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(dn,{path:"/dashboard",exact:!0,component:Ie}),a.a.createElement(dn,{path:"/dashboard/:id",exact:!0,component:Ie}))}var De=function(){return function(){var n=Object(j.b)(k),e=n.data,t=n.loading,a=Object(r.useContext)(O).setAuth;Object(r.useEffect)((function(){!t&&e&&e.auth?a((function(n){return Object(v.a)({},n,{isAuthenticated:!0,loading:t,user:e.auth})})):a((function(n){return Object(v.a)({},n,{loading:t})}))}),[e,t,a])}(),a.a.createElement(a.a.Fragment,null,a.a.createElement(fn,null),a.a.createElement(ze,null))};var Fe=function(){var n=function(){var n=Object(r.useState)({token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,user:null}),e=Object(U.a)(n,2),t=e[0],a=e[1];return Object(r.useMemo)((function(){return{auth:t,setAuth:a}}),[t,a])}();return a.a.createElement(O.Provider,{value:n},a.a.createElement(p.a,null,a.a.createElement(h.d,null,a.a.createElement(De,null))))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m.a,{client:b},a.a.createElement(Fe,null))),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.48eecf6a.chunk.js.map